"use strict";var _createClass=function(){function e(t,s){for(var i=0;i<s.length;i++){var e=s[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(t,s,i){return s&&e(t.prototype,s),i&&e(t,i),t}}();function _classCallCheck(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}!function(t){function s(){_classCallCheck(this,s),this.ainput=document.querySelectorAll("input"),this.tips=document.querySelector("#tips"),this.regBtn=document.querySelector(".form .btn"),this.usernameflag=!0,this.passwordflag=!0,this.repasswordflag=!0,this.telflag=!0,this.UserProtocolflag=!0,this.urlz="http://10.31.157.68/js1907/MY/preproject/"}t(".top").load("../html/login.html  .top"),t(".bottom").load("../html/login.html  .bottom"),(new(_createClass(s,[{key:"inint",value:function(){var t=this;this.ainput[0].onblur=function(){t.username()},this.ainput[1].onblur=function(){t.password()},this.ainput[2].onblur=function(){t.repassword()},this.ainput[3].onblur=function(){t.tel()},this.regBtn.onclick=function(){t.btnclick()}}},{key:"username",value:function(){""!==this.ainput[0].value?!1===/[\w|\u4e00-\u9fa5]{4,20}/g.test(this.ainput[0].value)?(this.tips.innerHTML="！请输入4-20位用户名",this.tips.style.display="block",this.usernameflag=!1):(this.tips.style.display="none",this.usernameflag=!0):(this.tips.innerHTML="！用户名不能为空",this.tips.style.display="block",this.usernameflag=!1)}},{key:"password",value:function(){if(""!==this.ainput[1].value){var t=0;/\d+/.test(this.ainput[1].value)&&t++,/[A-Z]+/.test(this.ainput[1].value)&&t++,/[a-z]+/.test(this.ainput[1].value)&&t++,/[\W\_]+/.test(this.ainput[1].value)&&t++,6<=this.ainput[1].value.length&&this.ainput[1].value.length<=16?1<t?(this.tips.style.display="none",this.ainput[2].value="",this.passwordflge=!0):(this.tips.innerHTML="！密码等级不够，请重新输入",this.tips.style.display="block",this.passwordflge=!1):(this.tips.innerHTML="！密码长度不够，请重新输入",this.tips.style.display="block",this.passwordflge=!1)}else this.tips.innerHTML="！密码不可为空",this.tips.style.display="block",this.passwordflge=!1}},{key:"repassword",value:function(){""!==this.ainput[2].value?this.ainput[2].value===this.ainput[1].value?(this.tips.style.display="none",this.repasswordflag=!0):(this.tips.innerHTML="！两次密码输入不一致，请重新输入",this.tips.style.display="block",this.repasswordflag=!1):(this.tips.innerHTML="！密码重复不能为空",this.tips.style.display="block",this.repasswordflag=!1)}},{key:"tel",value:function(){""!==this.ainput[3].value?/^1\d{10}$/.test(this.ainput[3].value)?(this.tips.style.display="none",this.telflag=!0):(this.tips.innerHTML="！手机号码有误，请重新输入",this.tips.style.display="block",this.telflag=!1):(this.tips.innerHTML="！手机号码不能为空",this.tips.style.display="block",this.telflag=!1)}},{key:"btnclick",value:function(){if(""===this.ainput[0].value?(this.tips.innerHTML="！用户名不能为空",this.tips.style.display="block",this.usernameflag=!1):""===this.ainput[1].value?(this.tips.innerHTML="！密码不能为空",this.tips.style.display="block",this.passwordflag=!1):""===this.ainput[2].value?(this.tips.innerHTML="！密码重复不能为空",this.tips.style.display="block",this.repasswordflag=!1):""===this.ainput[3].value&&(this.tips.innerHTML="！手机号码不能为空",this.tips.style.display="block",this.telflag=!1),!(this.usernameflag&&this.passwordflag&&this.repasswordflag&&this.telflag))return!1;var s=this;t.ajax({type:"post",url:this.urlz+"php/register.php",data:{username:this.ainput[0].value,password:this.ainput[1].value,tel:this.ainput[3].value},success:function(t){t?(s.tips.innerHTML="！用户名已经存在",s.tips.style.display="block",s.usernameflag=!1):(s.tips.style.display="none",alert("注册成功，请登录"))}})}}]),s)).inint()}(jQuery);